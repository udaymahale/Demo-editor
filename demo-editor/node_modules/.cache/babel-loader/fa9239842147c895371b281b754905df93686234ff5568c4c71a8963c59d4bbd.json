{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\udaym\\\\OneDrive\\\\Desktop\\\\DraftJsEditor\\\\basic-editor\\\\src\\\\index.js\";\nimport React, { useState, useEffect } from 'react';\nimport { Editor, EditorState, RichUtils, convertToRaw, convertFromRaw } from 'draft-js';\nimport { Editor as DraftEditor } from 'react-draft-wysiwyg'; // Use DraftEditor instead of Editor for clarity\nimport 'react-draft-wysiwyg/dist/react-draft-wysiwyg.css';\nimport './App.css';\nimport Button from './components/Button';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst customStyleMap = [{\n  style: 'HEADING1',\n  element: 'h1'\n}, {\n  style: 'BOLD',\n  element: 'strong'\n}, {\n  style: 'RED_LINE',\n  element: 'span',\n  style: {\n    textDecoration: 'line-through',\n    color: 'red'\n  }\n}, {\n  style: 'UNDERLINE',\n  element: 'u'\n}, {\n  style: 'CODE',\n  children: [],\n  element: 'pre'\n}];\nconst MyEditor = ({\n  editorState,\n  onEditorStateChange\n}) => {\n  const handleKeyCommand = command => {\n    const newEditorState = RichUtils.handleKeyCommand(editorState, command);\n    if (newEditorState) {\n      onEditorStateChange(newEditorState);\n\n      // Custom logic for handling headings, bold, redline, underline, and code blocks\n      const currentContent = editorState.getCurrentContent();\n      const selection = editorState.getSelection();\n      const block = currentContent.getBlockForKey(selection.getStartKey());\n      const firstChar = block.getText().charAt(0);\n      if (firstChar === '#' && selection.getAnchorOffset() === 1) {\n        const newContent = RichUtils.toggleBlockType(editorState, selection, customStyleMap[0].style);\n        onEditorStateChange(newContent);\n      }\n\n      // Implement similar logic for other formatting options\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(DraftEditor, {\n    editorState: editorState,\n    handleKeyCommand: handleKeyCommand,\n    onChange: onEditorStateChange\n    // Add custom block renderer for code blocks\n    // ...\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 5\n  }, this);\n};\n_c = MyEditor;\nclass App extends Components {\n  constructor(props) {\n    super(props);\n    this.onEditorStateChange = editorState => {\n      this.setState({\n        editorState\n      });\n    };\n    this.saveContent = () => {\n      const contentState = this.state.editorState.getCurrentContent();\n      const rawContentState = convertToRaw(contentState);\n      localStorage.setItem('draftContent', JSON.stringify(rawContentState));\n    };\n    const savedContent = localStorage.getItem('draftContent');\n    if (savedContent) {\n      const contentState = convertFromRaw(JSON.parse(savedContent));\n      this.state = {\n        editorState: EditorState.createWithContent(contentState)\n      };\n    } else {\n      this.state = {\n        editorState: EditorState.createEmpty()\n      };\n    }\n  }\n  render() {\n    const {\n      editorState\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"header\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"DraftJs Editor by Uday Mahale\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          label: \"Save\",\n          onClick: this.saveContent\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(MyEditor, {\n        editorState: editorState,\n        onEditorStateChange: this.onEditorStateChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 7\n    }, this);\n  }\n}\nrender( /*#__PURE__*/_jsxDEV(App, {}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 105,\n  columnNumber: 8\n}, this), document.getElementById('root'));\nvar _c;\n$RefreshReg$(_c, \"MyEditor\");","map":{"version":3,"names":["React","useState","useEffect","Editor","EditorState","RichUtils","convertToRaw","convertFromRaw","DraftEditor","Button","jsxDEV","_jsxDEV","customStyleMap","style","element","textDecoration","color","children","MyEditor","editorState","onEditorStateChange","handleKeyCommand","command","newEditorState","currentContent","getCurrentContent","selection","getSelection","block","getBlockForKey","getStartKey","firstChar","getText","charAt","getAnchorOffset","newContent","toggleBlockType","onChange","fileName","_jsxFileName","lineNumber","columnNumber","_c","App","Components","constructor","props","setState","saveContent","contentState","state","rawContentState","localStorage","setItem","JSON","stringify","savedContent","getItem","parse","createWithContent","createEmpty","render","className","label","onClick","document","getElementById","$RefreshReg$"],"sources":["C:/Users/udaym/OneDrive/Desktop/DraftJsEditor/basic-editor/src/index.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Editor, EditorState, RichUtils, convertToRaw, convertFromRaw } from 'draft-js';\nimport { Editor as DraftEditor } from 'react-draft-wysiwyg'; // Use DraftEditor instead of Editor for clarity\nimport 'react-draft-wysiwyg/dist/react-draft-wysiwyg.css';\nimport './App.css';\nimport Button from './components/Button';\n\nconst customStyleMap = [\n  {\n    style: 'HEADING1',\n    element: 'h1',\n  },\n  {\n    style: 'BOLD',\n    element: 'strong',\n  },\n  {\n    style: 'RED_LINE',\n    element: 'span',\n    style: { textDecoration: 'line-through', color: 'red' },\n  },\n  {\n    style: 'UNDERLINE',\n    element: 'u',\n  },\n  {\n    style: 'CODE',\n    children: [],\n    element: 'pre',\n  },\n];\n\nconst MyEditor = ({ editorState, onEditorStateChange }) => {\n  const handleKeyCommand = (command) => {\n    const newEditorState = RichUtils.handleKeyCommand(editorState, command);\n    if (newEditorState) {\n      onEditorStateChange(newEditorState);\n\n      // Custom logic for handling headings, bold, redline, underline, and code blocks\n      const currentContent = editorState.getCurrentContent();\n      const selection = editorState.getSelection();\n      const block = currentContent.getBlockForKey(selection.getStartKey());\n      const firstChar = block.getText().charAt(0);\n\n      if (firstChar === '#' && selection.getAnchorOffset() === 1) {\n        const newContent = RichUtils.toggleBlockType(\n          editorState,\n          selection,\n          customStyleMap[0].style\n        );\n        onEditorStateChange(newContent);\n      }\n\n      // Implement similar logic for other formatting options\n    }\n  };\n\n  return (\n    <DraftEditor\n      editorState={editorState}\n      handleKeyCommand={handleKeyCommand}\n      onChange={onEditorStateChange}\n      // Add custom block renderer for code blocks\n      // ...\n    />\n  );\n};\n\nclass App extends Components{\n  constructor(props) {\n    super(props);\n    const savedContent = localStorage.getItem('draftContent');\n    if (savedContent) {\n      const contentState = convertFromRaw(JSON.parse(savedContent));\n      this.state = { editorState: EditorState.createWithContent(contentState) };\n    } else {\n      this.state = { editorState: EditorState.createEmpty() };\n    }\n  }\n\n  onEditorStateChange = (editorState) => {\n    this.setState({ editorState });\n  };\n\n  saveContent = () => {\n    const contentState = this.state.editorState.getCurrentContent();\n    const rawContentState = convertToRaw(contentState);\n    localStorage.setItem('draftContent', JSON.stringify(rawContentState));\n  };\n\n  render() {\n    const { editorState } = this.state;\n    return (\n      <div>\n        <div className=\"header\">\n          <h2>DraftJs Editor by Uday Mahale</h2>\n          <Button label=\"Save\" onClick={this.saveContent} />\n        </div>\n        <MyEditor editorState={editorState} onEditorStateChange={this.onEditorStateChange} />\n      </div>\n    );\n  }\n}\n\nrender(<App />, document.getElementById('root'));\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}