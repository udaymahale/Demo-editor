{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\udaym\\\\OneDrive\\\\Desktop\\\\DraftJsEditor\\\\basic-editor\\\\src\\\\index.js\";\nimport React, { Component } from 'react';\nimport { render } from 'react-dom';\nimport { EditorState, convertToRaw, convertFromRaw, ContentState, Modifier, SelectionState } from 'draft-js';\nimport { Editor } from 'react-draft-wysiwyg';\nimport 'react-draft-wysiwyg/dist/react-draft-wysiwyg.css';\nimport './App.css';\nimport Button from './components/Button';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    const savedContent = localStorage.getItem('draftContent');\n    if (savedContent) {\n      const contentState = convertFromRaw(JSON.parse(savedContent));\n      this.state = {\n        editorState: EditorState.createWithContent(contentState)\n      };\n    } else {\n      this.state = {\n        editorState: EditorState.createEmpty()\n      };\n    }\n    this.onChange = this.onChange.bind(this);\n    this.saveContent = this.saveContent.bind(this);\n    this.handleBeforeInput = this.handleBeforeInput.bind(this);\n  }\n  onChange(editorState) {\n    this.setState({\n      editorState\n    });\n  }\n  saveContent() {\n    const contentState = this.state.editorState.getCurrentContent();\n    const rawContentState = convertToRaw(contentState);\n    localStorage.setItem('draftContent', JSON.stringify(rawContentState));\n  }\n  handleBeforeInput(chars) {\n    const {\n      editorState\n    } = this.state;\n    const contentState = editorState.getCurrentContent();\n    const selection = editorState.getSelection();\n    const block = contentState.getBlockForKey(selection.getStartKey());\n    const startOffset = selection.getStartOffset();\n    const endOffset = selection.getEndOffset();\n    const text = block.getText();\n    if (chars === ' ' && text.slice(startOffset - 1, startOffset) === '#') {\n      // Create a new ContentState with the selected text wrapped in a Header One block\n      const newContentState = Modifier.setBlockType(contentState, new SelectionState({\n        anchorKey: selection.getAnchorKey(),\n        anchorOffset: startOffset - 1,\n        focusKey: selection.getFocusKey(),\n        focusOffset: endOffset,\n        isBackward: false\n      }), 'header-one');\n\n      // Update the editorState with the new ContentState\n      const newEditorState = EditorState.push(editorState, newContentState, 'change-block-type');\n      this.onChange(newEditorState);\n    }\n  }\n  render() {\n    const {\n      editorState\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"header-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"DraftJs Editor by Uday Mahale\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          label: \"Save\",\n          onClick: this.saveContent\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Editor, {\n        editorState: editorState,\n        onEditorStateChange: this.onChange,\n        handleBeforeInput: this.handleBeforeInput // Add handleBeforeInput event handler\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this);\n  }\n}\nrender( /*#__PURE__*/_jsxDEV(App, {}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 81,\n  columnNumber: 8\n}, this), document.getElementById('root'));","map":{"version":3,"names":["React","Component","render","EditorState","convertToRaw","convertFromRaw","ContentState","Modifier","SelectionState","Editor","Button","jsxDEV","_jsxDEV","App","constructor","props","savedContent","localStorage","getItem","contentState","JSON","parse","state","editorState","createWithContent","createEmpty","onChange","bind","saveContent","handleBeforeInput","setState","getCurrentContent","rawContentState","setItem","stringify","chars","selection","getSelection","block","getBlockForKey","getStartKey","startOffset","getStartOffset","endOffset","getEndOffset","text","getText","slice","newContentState","setBlockType","anchorKey","getAnchorKey","anchorOffset","focusKey","getFocusKey","focusOffset","isBackward","newEditorState","push","children","className","fileName","_jsxFileName","lineNumber","columnNumber","label","onClick","onEditorStateChange","document","getElementById"],"sources":["C:/Users/udaym/OneDrive/Desktop/DraftJsEditor/basic-editor/src/index.js"],"sourcesContent":["import React, { Component } from 'react';\nimport { render } from 'react-dom';\nimport { EditorState, convertToRaw, convertFromRaw, ContentState, Modifier, SelectionState } from 'draft-js';\nimport { Editor } from 'react-draft-wysiwyg';\nimport 'react-draft-wysiwyg/dist/react-draft-wysiwyg.css';\nimport './App.css';\nimport Button from './components/Button';\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    const savedContent = localStorage.getItem('draftContent');\n    if (savedContent) {\n      const contentState = convertFromRaw(JSON.parse(savedContent));\n      this.state = { editorState: EditorState.createWithContent(contentState) };\n    } else {\n      this.state = { editorState: EditorState.createEmpty() };\n    }\n    this.onChange = this.onChange.bind(this);\n    this.saveContent = this.saveContent.bind(this);\n    this.handleBeforeInput = this.handleBeforeInput.bind(this);\n  }\n\n  onChange(editorState) {\n    this.setState({ editorState });\n  }\n\n  saveContent() {\n    const contentState = this.state.editorState.getCurrentContent();\n    const rawContentState = convertToRaw(contentState);\n    localStorage.setItem('draftContent', JSON.stringify(rawContentState));\n  }\n\n  handleBeforeInput(chars) {\n    const { editorState } = this.state;\n    const contentState = editorState.getCurrentContent();\n    const selection = editorState.getSelection();\n    const block = contentState.getBlockForKey(selection.getStartKey());\n    const startOffset = selection.getStartOffset();\n    const endOffset = selection.getEndOffset();\n    const text = block.getText();\n\n    if (chars === ' ' && text.slice(startOffset - 1, startOffset) === '#') {\n      // Create a new ContentState with the selected text wrapped in a Header One block\n      const newContentState = Modifier.setBlockType(\n        contentState,\n        new SelectionState({\n          anchorKey: selection.getAnchorKey(),\n          anchorOffset: startOffset - 1,\n          focusKey: selection.getFocusKey(),\n          focusOffset: endOffset,\n          isBackward: false,\n        }),\n        'header-one'\n      );\n\n      // Update the editorState with the new ContentState\n      const newEditorState = EditorState.push(editorState, newContentState, 'change-block-type');\n      this.onChange(newEditorState);\n    }\n  }\n\n  render() {\n    const { editorState } = this.state;\n    return (\n      <div>\n        <div className=\"header-container\">\n          <h2>DraftJs Editor by Uday Mahale</h2>\n          <Button label=\"Save\" onClick={this.saveContent} />\n        </div>\n        <Editor\n          editorState={editorState}\n          onEditorStateChange={this.onChange}\n          handleBeforeInput={this.handleBeforeInput} // Add handleBeforeInput event handler\n        />\n      </div>\n    );\n  }\n}\n\nrender(<App />, document.getElementById('root'));\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}