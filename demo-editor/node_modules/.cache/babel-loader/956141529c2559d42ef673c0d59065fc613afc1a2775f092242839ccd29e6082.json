{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\udaym\\\\OneDrive\\\\Desktop\\\\DraftJsEditor\\\\basic-editor\\\\src\\\\index.js\";\nimport React, { Component } from 'react';\nimport { render } from 'react-dom';\nimport { EditorState, convertToRaw, convertFromRaw, RichUtils } from 'draft-js';\nimport { Editor } from 'react-draft-wysiwyg';\nimport 'react-draft-wysiwyg/dist/react-draft-wysiwyg.css';\nimport './App.css';\nimport Button from './components/Button';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.onEditorStateChange = editorState => {\n      this.setState({\n        editorState\n      });\n    };\n    this.handleKeyDown = e => {\n      const {\n        editorState\n      } = this.state;\n      const selection = editorState.getSelection();\n      const contentState = editorState.getCurrentContent();\n      const currentBlock = contentState.getBlockForKey(selection.getStartKey());\n      const start = selection.getStartOffset();\n      const end = selection.getEndOffset();\n      const text = currentBlock.getText();\n      let newEditorState;\n      if (e.key === ' ') {\n        if (text[start - 1] === '#' && start === 1) {\n          const newContentState = contentState.merge({\n            blockMap: contentState.getBlockMap().set(currentBlock.getKey(), currentBlock.merge({\n              type: 'header-one',\n              text: text.slice(1)\n            }))\n          });\n          newEditorState = EditorState.push(editorState, newContentState, 'change-block-type');\n        } else if (text[start - 1] === '*' && start === 1) {\n          const newContentState = contentState.merge({\n            blockMap: contentState.getBlockMap().set(currentBlock.getKey(), currentBlock.merge({\n              type: 'unstyled',\n              inlineStyleRanges: [{\n                offset: 0,\n                length: 1,\n                style: 'BOLD'\n              }],\n              text: text.slice(1)\n            }))\n          });\n          newEditorState = EditorState.push(editorState, newContentState, 'change-block-type');\n        } else if (text[start - 1] === '*' && text[start - 2] === '*') {\n          const newContentState = contentState.merge({\n            blockMap: contentState.getBlockMap().set(currentBlock.getKey(), currentBlock.merge({\n              type: 'unstyled',\n              inlineStyleRanges: [{\n                offset: 0,\n                length: 1,\n                style: 'STRIKETHROUGH'\n              }],\n              text: text.slice(2)\n            }))\n          });\n          newEditorState = EditorState.push(editorState, newContentState, 'change-block-type');\n        } else if (text[start - 1] === '*' && text[start - 2] === '*' && text[start - 3] === '*') {\n          const newContentState = contentState.merge({\n            blockMap: contentState.getBlockMap().set(currentBlock.getKey(), currentBlock.merge({\n              type: 'unstyled',\n              inlineStyleRanges: [{\n                offset: 0,\n                length: 1,\n                style: 'UNDERLINE'\n              }],\n              text: text.slice(3)\n            }))\n          });\n          newEditorState = EditorState.push(editorState, newContentState, 'change-block-type');\n        }\n      }\n      if (newEditorState) {\n        e.preventDefault(); // Prevent default space insertion\n        this.setState({\n          editorState: newEditorState\n        });\n      }\n    };\n    this.saveContent = () => {\n      const {\n        editorState\n      } = this.state;\n      const contentState = editorState.getCurrentContent();\n      const rawContentState = convertToRaw(contentState);\n      localStorage.setItem('draftContent', JSON.stringify(rawContentState));\n    };\n    const savedContent = localStorage.getItem('draftContent');\n    if (savedContent) {\n      const contentState = convertFromRaw(JSON.parse(savedContent));\n      this.state = {\n        editorState: EditorState.createWithContent(contentState)\n      };\n    } else {\n      this.state = {\n        editorState: EditorState.createEmpty()\n      };\n    }\n  }\n  render() {\n    const {\n      editorState\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"DraftJs Editor by Uday Mahale\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Editor, {\n        editorState: editorState,\n        onChange: this.onEditorStateChange,\n        handleKeyCommand: this.handleKeyDown\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        label: \"Save\",\n        onClick: this.saveContent\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 7\n    }, this);\n  }\n}\nrender( /*#__PURE__*/_jsxDEV(App, {}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 109,\n  columnNumber: 8\n}, this), document.getElementById('root'));","map":{"version":3,"names":["React","Component","render","EditorState","convertToRaw","convertFromRaw","RichUtils","Editor","Button","jsxDEV","_jsxDEV","App","constructor","props","onEditorStateChange","editorState","setState","handleKeyDown","e","state","selection","getSelection","contentState","getCurrentContent","currentBlock","getBlockForKey","getStartKey","start","getStartOffset","end","getEndOffset","text","getText","newEditorState","key","newContentState","merge","blockMap","getBlockMap","set","getKey","type","slice","push","inlineStyleRanges","offset","length","style","preventDefault","saveContent","rawContentState","localStorage","setItem","JSON","stringify","savedContent","getItem","parse","createWithContent","createEmpty","children","fileName","_jsxFileName","lineNumber","columnNumber","onChange","handleKeyCommand","label","onClick","document","getElementById"],"sources":["C:/Users/udaym/OneDrive/Desktop/DraftJsEditor/basic-editor/src/index.js"],"sourcesContent":["import React, { Component } from 'react';\nimport { render } from 'react-dom';\nimport { EditorState, convertToRaw, convertFromRaw, RichUtils } from 'draft-js';\nimport { Editor } from 'react-draft-wysiwyg';\nimport 'react-draft-wysiwyg/dist/react-draft-wysiwyg.css';\nimport './App.css';\nimport Button from './components/Button';\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    const savedContent = localStorage.getItem('draftContent');\n    if (savedContent) {\n      const contentState = convertFromRaw(JSON.parse(savedContent));\n      this.state = { editorState: EditorState.createWithContent(contentState) };\n    } else {\n      this.state = { editorState: EditorState.createEmpty() };\n    }\n  }\n\n  onEditorStateChange = (editorState) => {\n    this.setState({ editorState });\n  };\n\n  handleKeyDown = (e) => {\n    const { editorState } = this.state;\n    const selection = editorState.getSelection();\n    const contentState = editorState.getCurrentContent();\n    const currentBlock = contentState.getBlockForKey(selection.getStartKey());\n    const start = selection.getStartOffset();\n    const end = selection.getEndOffset();\n    const text = currentBlock.getText();\n    let newEditorState;\n\n    if (e.key === ' ') {\n      if (text[start - 1] === '#' && start === 1) {\n        const newContentState = contentState.merge({\n          blockMap: contentState.getBlockMap().set(currentBlock.getKey(), currentBlock.merge({\n            type: 'header-one',\n            text: text.slice(1),\n          })),\n        });\n        newEditorState = EditorState.push(editorState, newContentState, 'change-block-type');\n      } else if (text[start - 1] === '*' && start === 1) {\n        const newContentState = contentState.merge({\n          blockMap: contentState.getBlockMap().set(currentBlock.getKey(), currentBlock.merge({\n            type: 'unstyled',\n            inlineStyleRanges: [\n              { offset: 0, length: 1, style: 'BOLD' },\n            ],\n            text: text.slice(1),\n          })),\n        });\n        newEditorState = EditorState.push(editorState, newContentState, 'change-block-type');\n      } else if (text[start - 1] === '*' && text[start - 2] === '*') {\n        const newContentState = contentState.merge({\n          blockMap: contentState.getBlockMap().set(currentBlock.getKey(), currentBlock.merge({\n            type: 'unstyled',\n            inlineStyleRanges: [\n              { offset: 0, length: 1, style: 'STRIKETHROUGH' },\n            ],\n            text: text.slice(2),\n          })),\n        });\n        newEditorState = EditorState.push(editorState, newContentState, 'change-block-type');\n      } else if (text[start - 1] === '*' && text[start - 2] === '*' && text[start - 3] === '*') {\n        const newContentState = contentState.merge({\n          blockMap: contentState.getBlockMap().set(currentBlock.getKey(), currentBlock.merge({\n            type: 'unstyled',\n            inlineStyleRanges: [\n              { offset: 0, length: 1, style: 'UNDERLINE' },\n            ],\n            text: text.slice(3),\n          })),\n        });\n        newEditorState = EditorState.push(editorState, newContentState, 'change-block-type');\n      }\n    }\n\n    if (newEditorState) {\n      e.preventDefault(); // Prevent default space insertion\n      this.setState({ editorState: newEditorState });\n    }\n  };\n\n  saveContent = () => {\n    const { editorState } = this.state;\n    const contentState = editorState.getCurrentContent();\n    const rawContentState = convertToRaw(contentState);\n    localStorage.setItem('draftContent', JSON.stringify(rawContentState));\n  };\n\n  render() {\n    const { editorState } = this.state;\n    return (\n      <div>\n        <h2>DraftJs Editor by Uday Mahale</h2>\n        <Editor\n          editorState={editorState}\n          onChange={this.onEditorStateChange}\n          handleKeyCommand={this.handleKeyDown}\n        />\n        <Button label=\"Save\" onClick={this.saveContent} />\n      </div>\n    );\n  }\n}\n\nrender(<App />, document.getElementById('root'));\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}