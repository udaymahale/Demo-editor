{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\udaym\\\\OneDrive\\\\Desktop\\\\DraftJsEditor\\\\basic-editor\\\\src\\\\index.js\";\nimport React, { Component } from 'react';\nimport { render } from 'react-dom';\nimport { EditorState, convertToRaw, convertFromRaw, RichUtils } from 'draft-js';\nimport { Editor } from 'react-draft-wysiwyg';\nimport 'react-draft-wysiwyg/dist/react-draft-wysiwyg.css';\nimport './App.css';\nimport Button from './components/Button';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.handleInput = event => {\n      const inputText = event.target.value;\n      const editorState = this.state.editorState;\n      if (inputText.endsWith('# ')) {\n        const newText = inputText.slice(0, -2);\n        const formattedText = `# ${newText}\\n`;\n        const contentState = editorState.getCurrentContent();\n        const selectionState = editorState.getSelection();\n        const newContentState = contentState.createTextContent(formattedText);\n        const newEditorState = EditorState.push(editorState, newContentState, 'insert-characters');\n        this.onChange(newEditorState);\n      }\n    };\n    const savedContent = localStorage.getItem('draftContent');\n    if (savedContent) {\n      const contentState = convertFromRaw(JSON.parse(savedContent));\n      this.state = {\n        editorState: EditorState.createWithContent(contentState)\n      };\n    } else {\n      this.state = {\n        editorState: EditorState.createEmpty()\n      };\n    }\n    this.onChange = this.onChange.bind(this);\n    this.saveContent = this.saveContent.bind(this);\n    this.handleKeyDown = this.handleKeyDown.bind(this);\n    this.handleKeyCommand = this.handleKeyCommand.bind(this);\n  }\n  onChange(editorState) {\n    this.setState({\n      editorState\n    });\n  }\n  saveContent() {\n    const contentState = this.state.editorState.getCurrentContent();\n    const rawContentState = convertToRaw(contentState);\n    localStorage.setItem('draftContent', JSON.stringify(rawContentState));\n  }\n  handleKeyDown(e) {\n    if (e.key === '#' && e.target.tagName.toLowerCase() === 'div') {\n      e.preventDefault();\n      this.onChange(RichUtils.toggleBlockType(this.state.editorState, 'header-one'));\n    } else if (e.key === ' ' && e.target.tagName.toLowerCase() === 'div') {\n      const editorState = this.state.editorState;\n      const selection = editorState.getSelection();\n      const currentContent = editorState.getCurrentContent();\n      const block = currentContent.getBlockForKey(selection.getStartKey());\n      const blockType = block.getType();\n      const isindex = lockType == \"\";\n      if (blockType === 'header-one') {\n        return 'handled';\n      }\n    }\n  }\n  handleKeyCommand(command, editorState) {\n    const newState = RichUtils.handleKeyCommand(editorState, command);\n    if (newState) {\n      this.onChange(newState);\n      return 'handled';\n    }\n    return 'not-handled';\n  }\n  render() {\n    const {\n      editorState\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"header-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"DraftJs Editor by Uday Mahale\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          label: \"Save\",\n          onClick: this.saveContent\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Editor, {\n        editorState: editorState,\n        onEditorStateChange: this.onChange,\n        handleKeyCommand: this.handleKeyCommand,\n        onKeyDown: this.handleKeyDown\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }, this);\n  }\n}\nrender( /*#__PURE__*/_jsxDEV(App, {}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 98,\n  columnNumber: 8\n}, this), document.getElementById('root'));","map":{"version":3,"names":["React","Component","render","EditorState","convertToRaw","convertFromRaw","RichUtils","Editor","Button","jsxDEV","_jsxDEV","App","constructor","props","handleInput","event","inputText","target","value","editorState","state","endsWith","newText","slice","formattedText","contentState","getCurrentContent","selectionState","getSelection","newContentState","createTextContent","newEditorState","push","onChange","savedContent","localStorage","getItem","JSON","parse","createWithContent","createEmpty","bind","saveContent","handleKeyDown","handleKeyCommand","setState","rawContentState","setItem","stringify","e","key","tagName","toLowerCase","preventDefault","toggleBlockType","selection","currentContent","block","getBlockForKey","getStartKey","blockType","getType","isindex","lockType","command","newState","children","className","fileName","_jsxFileName","lineNumber","columnNumber","label","onClick","onEditorStateChange","onKeyDown","document","getElementById"],"sources":["C:/Users/udaym/OneDrive/Desktop/DraftJsEditor/basic-editor/src/index.js"],"sourcesContent":["import React, { Component } from 'react';\nimport { render } from 'react-dom';\nimport { EditorState, convertToRaw, convertFromRaw, RichUtils } from 'draft-js';\nimport { Editor } from 'react-draft-wysiwyg';\nimport 'react-draft-wysiwyg/dist/react-draft-wysiwyg.css';\nimport './App.css';\nimport Button from './components/Button';\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    const savedContent = localStorage.getItem('draftContent');\n    if (savedContent) {\n      const contentState = convertFromRaw(JSON.parse(savedContent));\n      this.state = { editorState: EditorState.createWithContent(contentState) };\n    } else {\n      this.state = { editorState: EditorState.createEmpty() };\n    }\n    this.onChange = this.onChange.bind(this);\n    this.saveContent = this.saveContent.bind(this);\n    this.handleKeyDown = this.handleKeyDown.bind(this);\n    this.handleKeyCommand = this.handleKeyCommand.bind(this);\n  }\n\n  onChange(editorState) {\n    this.setState({ editorState });\n  }\n\n  saveContent() {\n    const contentState = this.state.editorState.getCurrentContent();\n    const rawContentState = convertToRaw(contentState);\n    localStorage.setItem('draftContent', JSON.stringify(rawContentState));\n  }\n\n  handleKeyDown(e) {\n    if (e.key === '#' && e.target.tagName.toLowerCase() === 'div') {\n      e.preventDefault();\n      this.onChange(RichUtils.toggleBlockType(this.state.editorState, 'header-one'));\n    } else if (e.key === ' ' && e.target.tagName.toLowerCase() === 'div') {\n      const editorState = this.state.editorState;\n      const selection = editorState.getSelection();\n      const currentContent = editorState.getCurrentContent();\n      const block = currentContent.getBlockForKey(selection.getStartKey());\n      const blockType = block.getType();\n      const  isindex =lockType==\"\"\n\n      if (blockType === 'header-one') {\n        return 'handled';\n      }\n    }\n  }\n\n  handleKeyCommand(command, editorState) {\n    const newState = RichUtils.handleKeyCommand(editorState, command);\n    if (newState) {\n      this.onChange(newState);\n      return 'handled';\n    }\n    return 'not-handled';\n  }\n\n  handleInput = (event) => {\n    const inputText = event.target.value;\n    const editorState = this.state.editorState;\n\n    if (inputText.endsWith('# ')) {\n      const newText = inputText.slice(0, -2);\n      const formattedText = `# ${newText}\\n`;\n\n      const contentState = editorState.getCurrentContent();\n      const selectionState = editorState.getSelection();\n      const newContentState = contentState.createTextContent(formattedText);\n      const newEditorState = EditorState.push(editorState, newContentState, 'insert-characters');\n\n      this.onChange(newEditorState);\n    }\n  };\n\n  render() {\n    const { editorState } = this.state;\n    return (\n      <div>\n        <div className=\"header-container\">\n          <h2>DraftJs Editor by Uday Mahale</h2>\n          <Button label=\"Save\" onClick={this.saveContent} />\n        </div>\n        <Editor\n          editorState={editorState}\n          onEditorStateChange={this.onChange}\n          handleKeyCommand={this.handleKeyCommand}\n          onKeyDown={this.handleKeyDown}\n        />\n      </div>\n    );\n  }\n}\n\nrender(<App />, document.getElementById('root'));\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}