{"version":3,"sources":["draft.min.js","draft.js"],"names":["root","factory","define","amd","exports","module","draft","this","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","TypeError","prototype","Object","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","_classCallCheck","instance","Constructor","_typeof","obj","Symbol","_createClass","defineProperties","target","props","i","length","descriptor","defineProperty","key","protoProps","staticProps","_slicedToArray","sliceIterator","arr","_arr","_n","_d","_e","undefined","_s","_i","iterator","next","done","push","err","Array","isArray","name","doc","types","mixins","inherit","destination","source","addSuper","proto","_super","mixin","hasOwnProperty","proxy","setInit","arguments","access","prop","init","split","p","shift","handler","has","_access","_access2","t","get","_access3","_access4","set","val","_access5","_access6","deleteProperty","_access7","_access8","Proxy","defaults","dpi","test","document","createElement","style","width","padding","getElementsByTagName","appendChild","offsetWidth","removeChild","Float","parseFloat","regex","RegExp","exec","toLowerCase","Length","_draft$types$Float","unit","_this","getPrototypeOf","isNaN","convert","newUnit","_this2","chain","reverse","units","toString","px","pt","pc","in","ft","yd","mi","mm","cm","dm","m","km","Color","color","parseInt","repeat","red","green","blue","rgbColor","rgb","hexColor","hex","replace","event","on","evt","listener","listenersMap","getListeners","listeners","map","l","indexOf","once","off","index","lastIndexOf","splice","fire","args","response","apply","timeStamp","Date","type","defineEvent","_len","evts","_key","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","removeEvent","events","_getEvents","_events","system","_system","_units","position","x","y","z","pos","translate","rotation","α","β","γ","rot","rotate","fill","fillColor","fillOpacity","opacity","stroke","strokeColor","strokeOpacity","strokeWidth","size","height","scale","radius","rx","_rx","ry","_ry","Element","_properties","_type","_prop","parent","String","setter","blacklist","replacer","JSON","stringify","id","properties","children","_id","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","require","Container","_draft$Element","_this3","child","elements","add","Doc","_draft$Container","_this4","newDoc","docs","Group","_draft$Container2","group","View","_draft$Element2","gcd","a","b","view","Point","_draft$Element3","point","Line","_draft$Point","_length","line","Shape","_draft$Point2","Rect","_draft$Shape","Math","floor","random","rect","Circle","_draft$Shape2","r","circle"],"mappings":"AAAA;AACA,CCDA,SAAAA,EAAAC,GACA,kBAAAC,SAAAA,OAAAC,IACAD,UAAAD,GACA,gBAAAG,SACAC,OAAAD,QAAAH,IAEAD,EAAAM,MAAAL,KAEAM,KAAA,WACA,YAMA,SAAAC,GAAAC,EAAAC,GAAA,IAAAD,EAAA,KAAA,IAAAE,gBAAA,4DAAA,QAAAD,GAAA,gBAAAA,IAAA,kBAAAA,GAAAD,EAAAC,EAEA,QAAAE,GAAAC,EAAAC,GAAA,GAAA,kBAAAA,IAAA,OAAAA,EAAA,KAAA,IAAAC,WAAA,iEAAAD,GAAAD,GAAAG,UAAAC,OAAAC,OAAAJ,GAAAA,EAAAE,WAAAG,aAAAC,MAAAP,EAAAQ,YAAA,EAAAC,UAAA,EAAAC,cAAA,KAAAT,IAAAG,OAAAO,eAAAP,OAAAO,eAAAX,EAAAC,GAAAD,EAAAY,UAAAX,GAEA,QAAAY,GAAAC,EAAAC,GAAA,KAAAD,YAAAC,IAAA,KAAA,IAAAb,WAAA,qCAEA,QAAAc,GAAAC,GAAA,MAAAA,IAAA,mBAAAC,SAAAD,EAAAX,cAAAY,OAAA,eAAAD,GAVA,GAAAE,GAAA,WAAA,QAAAC,GAAAC,EAAAC,GAAA,IAAA,GAAAC,GAAA,EAAAA,EAAAD,EAAAE,OAAAD,IAAA,CAAA,GAAAE,GAAAH,EAAAC,EAAAE,GAAAjB,WAAAiB,EAAAjB,aAAA,EAAAiB,EAAAf,cAAA,EAAA,SAAAe,KAAAA,EAAAhB,UAAA,GAAAL,OAAAsB,eAAAL,EAAAI,EAAAE,IAAAF,IAAA,MAAA,UAAAV,EAAAa,EAAAC,GAAA,MAAAD,IAAAR,EAAAL,EAAAZ,UAAAyB,GAAAC,GAAAT,EAAAL,EAAAc,GAAAd,MAEAe,EAAA,WAAA,QAAAC,GAAAC,EAAAT,GAAA,GAAAU,MAAAC,GAAA,EAAAC,GAAA,EAAAC,EAAAC,MAAA,KAAA,IAAA,GAAAC,GAAAC,EAAAP,EAAAd,OAAAsB,cAAAN,GAAAI,EAAAC,EAAAE,QAAAC,QAAAT,EAAAU,KAAAL,EAAA/B,QAAAgB,GAAAU,EAAAT,SAAAD,GAAAW,GAAA,IAAA,MAAAU,GAAAT,GAAA,EAAAC,EAAAQ,EAAA,QAAA,KAAAV,GAAAK,EAAA,WAAAA,EAAA,YAAA,QAAA,GAAAJ,EAAA,KAAAC,IAAA,MAAAH,GAAA,MAAA,UAAAD,EAAAT,GAAA,GAAAsB,MAAAC,QAAAd,GAAA,MAAAA,EAAA,IAAAd,OAAAsB,WAAApC,QAAA4B,GAAA,MAAAD,GAAAC,EAAAT,EAAA,MAAA,IAAArB,WAAA,4DAUAT,EAAA,QAAAA,GAAAsD,GACA,MAAAtD,GAAAuD,IAAAD,GAIAtD,GAAAwD,SACAxD,EAAAyD,UAQAzD,EAAA0D,QAAA,SAAAC,EAAAC,EAAAC,GACA,GAAAC,GAAAH,EAAAjD,UAAAC,OAAAC,OAAAgD,EAAAlD,UACAoD,GAAAjD,YAAA8C,GAEAE,GAAA,mBAAAA,MACAF,EAAAI,OAAAH,EAAAlD,YAIAV,EAAAgE,MAAA,SAAAL,EAAAC,GACA,IAAA,GAAA1B,KAAA0B,GACAA,EAAAK,eAAA/B,KACAyB,EAAAjD,UAAAwB,GAAA0B,EAAA1B,KAKAlC,EAAAkE,MAAA,SAAA1C,GACA,GAAA2C,GAAAC,UAAArC,QAAA,GAAAa,SAAAwB,UAAA,IAAA,EAAAA,UAAA,GAEAC,EAAA,QAAAA,GAAAzC,EAAA0C,EAAAC,GACA,GAAA,gBAAAD,GACA,MAAAD,GAAAzC,EAAA0C,EAAAE,MAAA,KAAAD,EAGA,IAAAE,GAAAH,EAAAI,OAEA,OAAAJ,GAAAvC,QAAA,YAAA,mBAAAH,GAAA,YAAAL,EAAAK,MAAA2C,GAAAE,IAAA7C,IAGAyC,EAAAI,IAAA7C,GAAAA,EAAA6C,GAAA7C,EAAA6C,MAAAH,EAAAC,IAGA3C,EAAA6C,IAIAE,GACAC,IAAA,SAAAhD,EAAA0C,GACA,GAAAO,GAAAR,EAAAzC,EAAA0C,GAEAQ,EAAAzC,EAAAwC,EAAA,GAEAE,EAAAD,EAAA,GACAL,EAAAK,EAAA,EAEA,SAAAC,EAAAN,IAEAO,IAAA,SAAApD,EAAA0C,GACA,GAAAW,GAAAZ,EAAAzC,EAAA0C,GAEAY,EAAA7C,EAAA4C,EAAA,GAEAF,EAAAG,EAAA,GACAT,EAAAS,EAAA,EAEA,OAAAH,GAAAN,IAEAU,IAAA,SAAAvD,EAAA0C,EAAAc,GACA,GAAAC,GAAAhB,EAAAzC,EAAA0C,EAAAH,GAEAmB,EAAAjD,EAAAgD,EAAA,GAEAN,EAAAO,EAAA,GACAb,EAAAa,EAAA,EAGA,OADAP,GAAAN,GAAAW,GACA,GAEAG,eAAA,SAAA3D,EAAA0C,GACA,GAAAkB,GAAAnB,EAAAzC,EAAA0C,GAEAmB,EAAApD,EAAAmD,EAAA,GAEAT,EAAAU,EAAA,GACAhB,EAAAgB,EAAA,EAEA,cAAAV,GAAAN,IAKA,OAAA,kBAAAiB,OAAA,GAAAA,OAAAlE,EAAAmD,GAAAnD,GAIAxB,EAAA2F,SAAA3F,EAAAkE,OACA0B,GAAAA,OACA,GAAAC,GAAAC,SAAAC,cAAA,MACAF,GAAAG,MAAAC,MAAA,MACAJ,EAAAG,MAAAE,QAAA,EACAJ,SAAAK,qBAAA,QAAA,GAAAC,YAAAP,EAEA,IAAAD,GAAAC,EAAAQ,WAKA,OAHAP,UAAAK,qBAAA,QAAA,GAAAG,YAAAT,GAGAD,GAAA,MAIA5F,EAAAwD,MAAA+C,MAAA,WACA,QAAAA,GAAAzF,GACAM,EAAAnB,KAAAsG,GAEAtG,KAAAa,MAAA0F,WAAA1F,GAyBA,MAtBAY,GAAA6E,IACArE,IAAA,UACApB,MAAA,WACA,MAAAb,MAAAa,SAGAoB,IAAA,OACA8C,IAAA,WACA,MAAA,WAGA9C,IAAA,QACA8C,IAAA,WAMA,MAAA,gDAIAuB,KAGAvG,EAAAwD,MAAAxD,SAAA,SAAAc,GACA,MAAA8B,SAAA9B,EAAAA,EAAA,GAAAd,GAAAwD,MAAA+C,MAAAzF,GAGA,IAAA+E,GAAA,SAAAT,EAAAqB,GAIA,MAFAA,GAAA,GAAAC,QAAAD,EAAA,IAAA,KACArB,EAAAqB,EAAAE,KAAAvB,GACAA,EAAAA,EAAA,GAAAwB,eAAA,EAm+BA,OAh+BA5G,GAAAwD,MAAAqD,OAAA,SAAAC,GAGA,QAAAD,GAAA/F,EAAAiG,GACA3F,EAAAnB,KAAA4G,EAEA,IAAAG,GAAA9G,EAAAD,KAAAU,OAAAsG,eAAAJ,GAAAzG,KAAAH,KAAAa,GAWA,OATAA,GAAA+E,EAAA/E,EAAAkG,EAAAP,OACAM,EAAAlB,EAAAkB,EAAAC,EAAAP,OAEAS,MAAAF,EAAAlG,SAAAA,IAAAiG,EAIAC,EAAAD,KAAA,IAHAC,EAAAD,KAAAjG,GAAAiG,EACAC,EAAAG,QAAAJ,IAIAC,EA+EA,MA/FA1G,GAAAuG,EAAAC,GAmBApF,EAAAmF,IACA3E,IAAA,UACApB,MAAA,SAAAsG,GACA,GAAAC,GAAApH,IAIA,IAFAmH,EAAAvB,EAAAuB,EAAAnH,KAAAwG,QAEAW,EACA,OAAA,CAaA,KAVA,GAAAE,GAAA,SAAAP,EAAAQ,GACA,GAAAC,GAAAH,EAAAG,MAAAT,EAKA,OAHAM,GAAAvG,OAAAyG,EAAAC,EAAA,GAAAA,EAAA,GACAH,EAAAvG,OAAAyG,EAAAC,EAAA,GAAAA,EAAA,GAEAA,EAAA,IAGAT,EAAA9G,KAAA8G,KACAA,IAAAK,GAAA,OAAAL,GACAA,EAAAO,EAAAP,EAGA,IAAAA,IAAAK,EAEA,IADAL,EAAAK,EACA,OAAAL,GACAA,EAAAO,EAAAP,GAAA,EAMA,OAFA9G,MAAA8G,KAAAK,EAEAnH,KAAAwH,cAGAvF,IAAA,UACApB,MAAA,WACA,MAAA,IAAA+F,GAAA5G,KAAAwH,WAAAzH,EAAA2F,SAAA6B,OAAA1G,SAGAoB,IAAA,WACApB,MAAA,WACA,MAAAb,MAAAa,MAAAb,KAAA8G,QAGA7E,IAAA,OACA8C,IAAA,WACA,MAAA,YAGA9C,IAAA,QACA8C,IAAA,WACA,MAAA,0CAGA9C,IAAA,QACA8C,IAAA,WACA,OACA0C,IAAA,EAAA,EAAA,MACAC,IAAA,EAAA,GAAA,MACAC,IAAA,GAAA,EAAA,MACAC,MAAA7H,EAAA2F,SAAAC,IAAA,EAAA,MACAkC,IAAA,GAAA,EAAA,MACAC,IAAA,EAAA,EAAA,MACAC,IAAA,KAAA,EAAA,MACAC,IAAA,EAAA,KAAA,MACAC,IAAA,GAAA,EAAA,MACAC,IAAA,GAAA,EAAA,MACAC,GAAA,GAAA,EAAA,MACAC,IAAA,IAAA,EAAA,UAKAxB,GACA7G,EAAAwD,MAAA+C,OAEAvG,EAAAwD,MAAAzB,OAAA,SAAAjB,EAAAiG,GACA,MAAAnE,SAAA9B,EAAAA,EAAA,GAAAd,GAAAwD,MAAAqD,OAAA/F,EAAAiG,IAGA/G,EAAAwD,MAAA8E,MAAA,WACA,QAAAA,GAAAC,GAKA,GAJAnH,EAAAnB,KAAAqI,GAEAC,EAAA,GAAA7B,QAAA,OAAAzG,KAAAwG,MAAA,KAAA,KAAAE,KAAAO,MAAAqB,GAAAA,EAAAA,EAAAd,SAAA,KAEA,OAAAc,EAAA,CACAtI,KAAAsI,MAAAA,EAAA,GAAA3B,aAEA,KAAA,GAAA9E,GAAA,EAAA,GAAAA,EAAAA,IACAyG,EAAAzG,GAAA0G,SAAAD,EAAAzG,IAAA0G,SAAAD,EAAAzG,EAAA,IAAAyG,EAAAzG,EAAA,GAAA2G,OAAA,GAAA,IAAA,GAGAxI,MAAAyI,IAAAH,EAAA,GACAtI,KAAA0I,MAAAJ,EAAA,GACAtI,KAAA2I,KAAAL,EAAA,IAiCA,MA7BA7G,GAAA4G,IACApG,IAAA,UACApB,MAAA,WACA,MAAAb,MAAAyI,KAAA,GAAAzI,KAAA0I,OAAA,EAAA1I,KAAA2I,QAGA1G,IAAA,WACApB,MAAA,WACA,MAAAb,MAAAsI,SAGArG,IAAA,OACA8C,IAAA,WACA,MAAA,WAGA9C,IAAA,QACA8C,IAAA,WACA,GAAA6D,GAAA,yCACAC,EAAA,SAAAD,EAAA,MAAAA,EAAA,MAAAA,EAAA,MAEAE,EAAA,gBAAAN,OAAA,GACAO,EAAA,QAAAD,EAAA,IAAAA,EAAAE,QAAA,SAAA,IAAA,GAGA,OAAAH,GAAA,IAAAE,MAIAV,KAGAtI,EAAAwD,MAAA+E,MAAA,SAAAzH,GACA,MAAA8B,SAAA9B,EAAAA,EAAA,GAAAd,GAAAwD,MAAA8E,MAAAxH,IASAd,EAAAyD,OAAAyF,OACAC,GAAA,SAAAC,EAAAC,GACA,GAAAC,GAAArJ,KAAAsJ,aAAAH,GAAA,EAEA,KAAA,GAAAlH,KAAAoH,GAAA,CACA,GAAAE,GAAAF,EAAApH,EAIA,MAFAsH,EAAAC,IAAA,SAAAC,GACA,MAAAA,GAAAL,WACAM,QAAAN,IACAG,EAAAtG,KAAA,YAAA,mBAAAmG,GAAA,YAAA9H,EAAA8H,IAAAA,GACAA,SAAAA,EACAO,MAAA,IAKA,MAAA3J,OAEA2J,KAAA,SAAAR,EAAAC,GACA,MAAApJ,MAAAkJ,GAAAC,GACAC,SAAAA,EACAO,MAAA,KAGAC,IAAA,SAAAT,EAAAC,GACA,GAAAC,GAAArJ,KAAAsJ,aAAAH,GAAA,EAEA,KAAA,GAAAlH,KAAAoH,GAAA,CACA,GAAAE,GAAAF,EAAApH,GACA4H,EAAAN,EAAAC,IAAA,SAAAC,GACA,MAAAA,GAAAL,WACAU,YAAAV,EAEA,MAAAS,GACAN,EAAAQ,OAAAF,EAAA,GAIA,MAAA7J,OAIAgK,KAAA,SAAAb,EAAAc,GAEA9G,MAAAC,QAAA6G,KACAA,GAAAA,GAGA,IAAAZ,GAAArJ,KAAAsJ,aAAAH,GAAA,EAEA,KAAA,GAAAlH,KAAAoH,GAMA,IALA,GAAAE,GAAAF,EAAApH,GACAJ,EAAA0H,EAAAzH,OAIAD,KAAA,CACA,GAAAuH,GAAAG,EAAA1H,GACAqI,EAAAd,EAAAA,SAAAe,OACAxI,OAAA3B,KAEAoK,UAAAC,OACAC,KAAArI,GACAgI,IAGAb,EAAAO,QAAA,GAAA,QAAAO,IACAlK,KAAA4J,IAAAT,EAAAC,EAAAA,UAKA,MAAApJ,OAEAuK,YAAA,WACA,IAAA,GAAAC,GAAArG,UAAArC,OAAA2I,EAAAtH,MAAAqH,GAAAE,EAAA,EAAAF,EAAAE,EAAAA,IACAD,EAAAC,GAAAvG,UAAAuG,EAGA,IAAAC,IAAA,EACAC,GAAA,EACAC,EAAAlI,MAEA,KACA,IAAA,GAAAmI,GAAAC,EAAAN,EAAAjJ,OAAAsB,cAAA6H,GAAAG,EAAAC,EAAAhI,QAAAC,MAAA2H,GAAA,EAAA,CACA,GAAAxB,GAAA2B,EAAAjK,KAEAb,MAAAsJ,aAAAH,IAEA,MAAAjG,GACA0H,GAAA,EACAC,EAAA3H,EACA,QACA,KACAyH,GAAAI,EAAAA,WACAA,EAAAA,YAEA,QACA,GAAAH,EACA,KAAAC,IAKA,MAAA7K,OAEAgL,YAAA,SAAA7B,GACA,GAAA8B,GAAAjL,KAAAkL,YAGA,IAAA,gBAAA/B,SAEA8B,GAAA9B,OACA,IAAAA,YAAA1C,QAEA,IAAA,GAAAxE,KAAAgJ,GACA9B,EAAAvD,KAAA3D,UACAgJ,GAAAhJ,cAKAjC,MAAAmL,OAGA,OAAAnL,OAEAsJ,aAAA,SAAAH,EAAAK,GACA,GAAAyB,GAAAjL,KAAAkL,aACA3B,IAIA,IAAAJ,YAAA1C,QACA,IAAA,GAAAxE,KAAAgJ,GACA9B,EAAAvD,KAAA3D,KACAsH,EAAAtH,GAAAgJ,EAAAhJ,QAGA,CACA,GAAAmH,GAAA6B,EAAA9B,KAAA8B,EAAA9B,MAEAxG,UAAA6G,EACAD,EAAAH,EAEAG,EAAAJ,GAAAC,EAQA,MAAAG,IASA2B,WAAA,WACA,MAAAlL,MAAAmL,UAAAnL,KAAAmL,cAIApL,EAAAyD,OAAA4H,QAuBAA,OAAA,SAAAC,GAIA,MAAArL,MAAAqE,KAAA,SAAAgH,KAIAtL,EAAA2F,SAAA0F,OAAA,YAEArL,EAAAyD,OAAA+D,OAGAA,MAAA,SAAA+D,GACA,MAAAtL,MAAAqE,KAAA,QAAAiH,KAIAvL,EAAA2F,SAAA6B,MAAA,KAEAxH,EAAAyD,OAAA+H,UAGAA,SAAA,SAAAC,EAAAC,EAAAC,GACA,MAAA1L,MAAAqE,MACAmH,EAAAzL,EAAAwD,MAAAzB,OAAA0J,GACAC,EAAA1L,EAAAwD,MAAAzB,OAAA2J,GACAC,EAAA3L,EAAAwD,MAAAzB,OAAA4J,MAGAC,IAAA,WACA,MAAA3L,MAAAuL,SAAApB,MAAAnK,KAAAmE,YAEAyH,UAAA,SAAAJ,EAAAC,EAAAC,GAKA,MAJAF,GAAAxL,KAAAqE,KAAA,KAAAmH,GAAA,EACAC,EAAAzL,KAAAqE,KAAA,KAAAoH,GAAA,EACAC,EAAA1L,KAAAqE,KAAA,KAAAqH,GAAA,EAEA1L,KAAAuL,SAAAC,EAAAC,EAAAC,KAIA3L,EAAAyD,OAAAqI,UACAA,SAAA,SAAAC,EAAAC,EAAAC,GACA,MAAAhM,MAAAqE,MACAyH,IAAAA,EACAC,IAAAA,EACAC,IAAAA,KAGAC,IAAA,WACA,MAAAjM,MAAA6L,SAAA1B,MAAAnK,KAAAmE,YAEA+H,OAAA,SAAAJ,EAAAC,EAAAC,GAKA,MAJAF,GAAA9L,KAAAqE,KAAA,KAAAyH,GAAA,EACAC,EAAA/L,KAAAqE,KAAA,KAAA0H,GAAA,EACAC,EAAAhM,KAAAqE,KAAA,KAAA2H,GAAA,EAEAhM,KAAAuL,SAAAO,EAAAC,EAAAC,KAIAjM,EAAAyD,OAAA2I,MAGAA,KAAA,SAAA7D,GACA,MAAAtI,MAAAoM,UAAA9D,IAEA8D,UAAA,SAAA9D,GACA,MAAAtI,MAAAqE,KAAA,aAAAtE,EAAAwD,MAAA+E,MAAAA,KAEA+D,YAAA,SAAAC,GAMA,MAJA,yBAAA1G,KAAA0G,KACAA,EAAA/F,WAAA+F,EAAA,KAGAtM,KAAAqE,KAAA,eAAAiI,KAIAvM,EAAA2F,SAAA,cAAA,OACA3F,EAAA2F,SAAA,gBAAA,EAEA3F,EAAAyD,OAAA+I,QAGAA,OAAA,SAAAjE,GACA,MAAAtI,MAAAwM,YAAAlE,IAEAkE,YAAA,SAAAlE,GACA,MAAAtI,MAAAqE,KAAA,eAAAtE,EAAAwD,MAAA+E,MAAAA,KAEAmE,cAAA,SAAAH,GAMA,MAJA,yBAAA1G,KAAA0G,KACAA,EAAA/F,WAAA+F,EAAA,KAGAtM,KAAAqE,KAAA,iBAAAiI,IAEAI,YAAA,SAAA1G,GACA,MAAAhG,MAAAqE,KAAA,eAAAtE,EAAAwD,MAAAzB,OAAAkE,MAIAjG,EAAA2F,SAAA,gBAAA,OACA3F,EAAA2F,SAAA,kBAAA,EACA3F,EAAA2F,SAAA,gBAAA,EAEA3F,EAAAyD,OAAAmJ,MAGAA,KAAA,SAAA3G,EAAA4G,GACA,MAAA5M,MAAAqE,MACA2B,MAAAjG,EAAAwD,MAAAzB,OAAAkE,GACA4G,OAAA7M,EAAAwD,MAAAzB,OAAA8K,MAIAC,MAAA,SAAA7G,EAAA4G,GACA,MAAA5M,MAAAqE,MACA2B,MAAAhG,KAAAqE,KAAA,SAAA2B,GAAArD,OACAiK,OAAA5M,KAAAqE,KAAA,UAAAuI,GAAAjK,WAMA5C,EAAAyD,OAAAsJ,QAGAC,GAAA,SAAAC,GACA,MAAAhN,MAAAqE,KAAA,KAAAtE,EAAAwD,MAAAzB,OAAAkL,KAIAC,GAAA,SAAAC,GACA,MAAAlN,MAAAqE,KAAA,KAAAtE,EAAAwD,MAAAzB,OAAAoL,KAIAJ,OAAA,SAAAC,EAAAE,GACA,MAAAjN,MAAAqE,MACA0I,GAAAhN,EAAAwD,MAAAzB,OAAAiL,GACAE,GAAAlN,EAAAwD,MAAAzB,OAAAmL,OAKAlN,EAAAoN,QAAA,WACA,QAAAA,GAAA9J,GACAlC,EAAAnB,KAAAmN,GAGAnN,KAAAoN,eAGA/J,GACArD,KAAAqE,KAAA,OAAAhB,EAKA,KAAA,GAAAiH,KAAAvK,GACA,GAAAC,KAAAY,cAAAb,EAAAuK,GAAA,CACAtK,KAAAqN,MAAA/C,EAAA3D,aACA,QAwLA,MAlLAlF,GAAA0L,IACAlL,IAAA,OACApB,MAAA,SAAAyM,EAAAnI,GACA,GAAA5D,GAAA4C,UAAArC,QAAA,GAAAa,SAAAwB,UAAA,GAAAnE,KAAAoN,YAAAjJ,UAAA,EAEA,IAAAxB,SAAA2K,EAGA,MAAA5M,QAAAV,KAAAoN,YACA,IAAA,OAAAE,EAGAtN,KAAAoN,mBACA,IAAA,gBAAAE,GAAA,CACA,GAAA1L,GAAA7B,EAAAkE,MAAAjE,KAAAoN,YAEA,IAAAzK,SAAAwC,EAIA,MAAAmI,KAAA1L,GAAAA,EAAA0L,GAAA,IACA,IAAA,OAAAnI,QAEAvD,GAAA0L,OACA,CAGA,GAAA,YAAA,mBAAAnI,GAAA,YAAA7D,EAAA6D,IAAA,CACA,GAAA2B,GAAAnE,MAEA,QAAAwC,EAAAmF,MACA,IAAA,SACAxD,EAAA9G,KAAAuN,OAAAlJ,KAAA,UAAAtE,EAAA2F,SAAA6B,MACApC,EAAA2B,KAAA3B,EAAA2B,MAAAA,EACA3B,EAAA+B,QAAAJ,EAEA,KAAA,QACA3B,EAAAqI,OAAArI,IAKAvD,EAAA0L,GAAAnI,EAGAnF,KAAAgK,KAAA,UAAAsD,EAAAnI,QACA,IAAA,YAAA,mBAAAmI,GAAA,YAAAhM,EAAAgM,IAAA,CAGA,GAAAG,IAAA,CAEA,KAAA,GAAAjJ,KAAA8I,GAEAA,EAAA9I,GAAAxE,KAAAqE,KAAAG,EAAA8I,EAAA9I,GAAAjD,GAGAkM,EAAAA,GAAA,UAAAnM,EAAAgM,EAAA9I,GAGA,OAAAiJ,GAAAzN,KAAAsN,EAIA,MAAAtN,SAMAiC,IAAA,YACApB,MAAA,SAAA6M,GACA,GAAAC,EAoBA,OAlBAxK,OAAAC,QAAAsK,GACAC,EAAA,SAAA1L,EAAAkD,GACA,MAAA,KAAAuI,EAAAhE,QAAAzH,GAIAkD,EAJA,QAMAuI,YAAAjH,UACAkH,EAAA,SAAA1L,EAAAkD,GACA,MAAAuI,GAAA9H,KAAA3D,GAAA,OAIAkD,IAIAyI,KAAAC,UAAA7N,KAAA2N,EAAA,MAGA1L,IAAA,SACApB,MAAA,WACA,OACAyJ,KAAAtK,KAAAsK,KACAwD,GAAA9N,KAAA8N,GACAC,WAAA/N,KAAAqE,OACA2J,SAAAhO,KAAAgO,aAIA/L,IAAA,OACA8C,IAAA,WACA,MAAA/E,MAAAqN,SAGApL,IAAA,KACA8C,IAAA,WACA,MAAA/E,MAAAiO,OAGAhM,IAAA,OACA8C,IAAA,WACA,MAAA/E,MAAAqE,KAAA,WAMApC,IAAA,QACA8C,IAAA,WAEA,IADA,GAAA+I,GAAAN,OAAAxN,KAAA8N,IACAA,EAAAhM,OAAA,GACAgM,EAAA,IAAAA,CAGA,OAAA9N,MAAAsK,KAAA,IAAAwD,OAGA7L,IAAA,UACApB,MAAA,SAAA8C,EAAAC,GACA7D,EAAA0D,QAAAzD,KAAA2D,EAAAC,MAGA3B,IAAA,QACApB,MAAA,SAAA8C,GACA5D,EAAAgE,MAAA/D,KAAA2D,MAMA1B,IAAA,UACApB,MAAA,SAAA8C,GACA,GAAA,gBAAAA,GACA3D,KAAA+D,MAAAhE,EAAAyD,OAAAG,QACA,IAAAR,MAAAC,QAAAO,GAAA,CACA,GAAAuK,IAAA,EACAC,GAAA,EACAC,EAAAzL,MAEA,KACA,IAAA,GAAA0L,GAAAC,EAAA3K,EAAAnC,OAAAsB,cAAAoL,GAAAG,EAAAC,EAAAvL,QAAAC,MAAAkL,GAAA,EAAA,CACA,GAAAnK,GAAAsK,EAAAxN,KAEAb,MAAAuO,QAAAxK,IAEA,MAAAb,GACAiL,GAAA,EACAC,EAAAlL,EACA,QACA,KACAgL,GAAAI,EAAAA,WACAA,EAAAA,YAEA,QACA,GAAAH,EACA,KAAAC,UAQAjB,KAGApN,EAAAoN,QAAAoB,SAAA,QAAA,WAAA,aAEAxO,EAAAyO,UAAA,SAAAC,GAGA,QAAAD,GAAAnL,GACAlC,EAAAnB,KAAAwO,EAIA,IAAAE,GAAAzO,EAAAD,KAAAU,OAAAsG,eAAAwH,GAAArO,KAAAH,KAAAqD,GAGA,OADAqL,GAAAV,YACAU,EAgDA,MA1DArO,GAAAmO,EAAAC,GAaAhN,EAAA+M,IACAvM,IAAA,MACApB,MAAA,SAAA8N,GAEAA,EAAApB,OAAAvN,KACA2O,EAAArL,IAAAtD,KAAAsD,KAAAtD,IAGA,IAAAsK,GAAAqE,EAAArE,IAWA,QAVAqE,EAAArL,IAAAsL,SAAAtE,KAAAqE,EAAArL,IAAAsL,SAAAtE,QAAArH,KAAA0L,GAEAA,EAAAV,IAAAU,EAAArL,IAAAsL,SAAAtE,GAAAxI,OAGA9B,KAAAgO,SAAA/K,KAAA0L,GAGA3O,KAAAgK,KAAA,OAAA2E,IAEA3O,QAGAiC,IAAA,OACApB,MAAA,SAAA8N,GAEA,MADA3O,MAAA6O,IAAAF,GACAA,KAGA1M,IAAA,SACApB,MAAA,SAAA8N,GAEA,MADA3O,MAAAgK,KAAA,UAAA2E,IACA3O,QAGAiC,IAAA,aACA8C,IAAA,WACA,MAAA/E,MAAAgO,SAAA,MAGA/L,IAAA,YACA8C,IAAA,WACA,MAAA/E,MAAAgO,SAAAhO,KAAAgO,SAAAlM,OAAA,OAIA0M,GACAzO,EAAAoN,SAEApN,EAAA+O,IAAA,SAAAC,GAGA,QAAAD,GAAAzL,GACAlC,EAAAnB,KAAA8O,EAIA,IAAAE,GAAA/O,EAAAD,KAAAU,OAAAsG,eAAA8H,GAAA3O,KAAAH,KAAAqD,GAQA,OANA2L,GAAAJ,YAEAI,EAAA3K,MACA+G,OAAArL,EAAA2F,SAAA0F,OACA7D,MAAAxH,EAAA2F,SAAA6B,QAEAyH,EAGA,MAlBA3O,GAAAyO,EAAAC,GAkBAD,GACA/O,EAAAyO,WAEAzO,EAAAuD,IAAA,SAAAD,GACA,GAAA4L,GAAA,GAAAlP,GAAA+O,IAAAzL,EAKA,QAHAtD,EAAAmP,OAAAnP,EAAAmP,UAAAjM,KAAAgM,GACAA,EAAAhB,IAAAlO,EAAAmP,KAAApN,OAEAmN,GAGAlP,EAAAoP,MAAA,SAAAC,GAGA,QAAAD,KAGA,MAFAhO,GAAAnB,KAAAmP,GAEAlP,EAAAD,KAAAU,OAAAsG,eAAAmI,GAAAhF,MAAAnK,KAAAmE,YAGA,MARA9D,GAAA8O,EAAAC,GAQAD,GACApP,EAAAyO,WAEAzO,EAAAoP,MAAAZ,SAAA,SAAA,UAGAxO,EAAAyO,UAAAzK,OACAsL,MAAA,SAAAhM,GACA,MAAArD,MAAAiD,KAAA,GAAAlD,GAAAoP,MAAA9L,IAAAgB,MACA+G,OAAApL,KAAAqE,KAAA,UACAkD,MAAAvH,KAAAqE,KAAA,cAKAtE,EAAAuP,KAAA,SAAAC,GAGA,QAAAD,KAGA,MAFAnO,GAAAnB,KAAAsP,GAEArP,EAAAD,KAAAU,OAAAsG,eAAAsI,GAAAnF,MAAAnK,KAAAmE,YAuBA,MA5BA9D,GAAAiP,EAAAC,GAQA9N,EAAA6N,IACArN,IAAA,cAMA8C,IAAA,WACA,GAAAiB,GAAAjG,EAAAwD,MAAAzB,OAAA9B,KAAAqE,KAAA,UAAAxD,MACA+L,EAAA7M,EAAAwD,MAAAzB,OAAA9B,KAAAqE,KAAA,WAAAxD,MAEA2O,EAAA,QAAAA,GAAAC,EAAAC,GACA,MAAAA,GAAAF,EAAAE,EAAAD,EAAAC,GAAAD,EAIA,OADAD,GAAAA,EAAAxJ,EAAA4G,GACA5G,EAAAwJ,EAAA,IAAA5C,EAAA4C,MAIAF,GACAvP,EAAAoN,SAEApN,EAAAuP,KAAAf,QAAA,QAEAxO,EAAAoP,MAAApL,OAGA4L,KAAA,WACA,GAAA3J,GAAA7B,UAAArC,QAAA,GAAAa,SAAAwB,UAAA,GAAA,IAAAA,UAAA,GACAyI,EAAAzI,UAAArC,QAAA,GAAAa,SAAAwB,UAAA,GAAA,IAAAA,UAAA,EAEA,OAAAnE,MAAAiD,KAAA,GAAAlD,GAAAuP,MAAA3C,KAAA3G,EAAA4G,MAIA7M,EAAA6P,MAAA,SAAAC,GAGA,QAAAD,KAGA,MAFAzO,GAAAnB,KAAA4P,GAEA3P,EAAAD,KAAAU,OAAAsG,eAAA4I,GAAAzF,MAAAnK,KAAAmE,YAGA,MARA9D,GAAAuP,EAAAC,GAQAD,GACA7P,EAAAoN,SAEApN,EAAA6P,MAAArB,QAAA,UAEAxO,EAAAoP,MAAApL,OACA+L,MAAA,WACA,MAAA9P,MAAAiD,KAAA,GAAAlD,GAAA6P,UAIA7P,EAAAgQ,KAAA,SAAAC,GAGA,QAAAD,KAGA,MAFA5O,GAAAnB,KAAA+P,GAEA9P,EAAAD,KAAAU,OAAAsG,eAAA+I,GAAA5F,MAAAnK,KAAAmE,YAUA,MAfA9D,GAAA0P,EAAAC,GAQAvO,EAAAsO,IACA9N,IAAA,SACApB,MAAA,SAAAoP,GACA,MAAAjQ,MAAAqE,KAAA,SAAAtE,EAAAwD,MAAAzB,OAAAmO,QAIAF,GACAhQ,EAAA6P,OAEA7P,EAAAoP,MAAApL,OACAmM,KAAA,WACA,GAAApO,GAAAqC,UAAArC,QAAA,GAAAa,SAAAwB,UAAA,GAAA,IAAAA,UAAA,EAEA,OAAAnE,MAAAiD,KAAA,GAAAlD,GAAAgQ,MAAAjO,OAAAA,MAIA/B,EAAAoQ,MAAA,SAAAC,GAGA,QAAAD,KAGA,MAFAhP,GAAAnB,KAAAmQ,GAEAlQ,EAAAD,KAAAU,OAAAsG,eAAAmJ,GAAAhG,MAAAnK,KAAAmE,YAGA,MARA9D,GAAA8P,EAAAC,GAQAD,GACApQ,EAAA6P,OAEA7P,EAAAoQ,MAAA5B,SAAA,OAAA,SAEAxO,EAAAsQ,KAAA,SAAAC,GAGA,QAAAD,KAGA,MAFAlP,GAAAnB,KAAAqQ,GAEApQ,EAAAD,KAAAU,OAAAsG,eAAAqJ,GAAAlG,MAAAnK,KAAAmE,YAYA,MAjBA9D,GAAAgQ,EAAAC,GAQA7O,EAAA4O,IACApO,IAAA,OAGA8C,IAAA,WACA,MAAAwL,MAAAC,MAAA,IAAAD,KAAAE,UAAA,aAIAJ,GACAtQ,EAAAoQ,OAEApQ,EAAAsQ,KAAA9B,QAAA,UAEAxO,EAAAoP,MAAApL,OACA2M,KAAA,WACA,GAAA1K,GAAA7B,UAAArC,QAAA,GAAAa,SAAAwB,UAAA,GAAA,IAAAA,UAAA,GACAyI,EAAAzI,UAAArC,QAAA,GAAAa,SAAAwB,UAAA,GAAA,IAAAA,UAAA,EAEA,OAAAnE,MAAAiD,KAAA,GAAAlD,GAAAsQ,MAAA1D,KAAA3G,EAAA4G,MAIA7M,EAAA4Q,OAAA,SAAAC,GAGA,QAAAD,KAGA,MAFAxP,GAAAnB,KAAA2Q,GAEA1Q,EAAAD,KAAAU,OAAAsG,eAAA2J,GAAAxG,MAAAnK,KAAAmE,YAUA,MAfA9D,GAAAsQ,EAAAC,GAQAnP,EAAAkP,IACA1O,IAAA,SACApB,MAAA,SAAAgQ,GACA,MAAA7Q,MAAAqE,KAAA,IAAAtE,EAAAwD,MAAAzB,OAAA+O,QAIAF,GACA5Q,EAAAoQ,OAEApQ,EAAAoP,MAAApL,OACA+M,OAAA,WACA,GAAAD,GAAA1M,UAAArC,QAAA,GAAAa,SAAAwB,UAAA,GAAA,GAAAA,UAAA,EAEA,OAAAnE,MAAAiD,KAAA,GAAAlD,GAAA4Q,QAAA7D,OAAA+D,MAGA9Q","file":"draft.min.js","sourcesContent":[null,"/*\n* draft.js - A lightweight library for parametric design\n* version v0.2.0\n* http://draft.D1SC0te.ch\n*\n* copyright Jordi Pakey-Rodriguez <jordi.orlando@hexa.io>\n* license MIT\n*\n* BUILT: Fri Feb 05 2016 10:46:44 GMT-0600 (CST)\n*/\n;(function(root, factory) {\n  if (typeof define === 'function' && define.amd) {\n    define([], factory);\n  } else if (typeof exports === 'object') {\n    module.exports = factory();\n  } else {\n    root.draft = factory();\n  }\n}(this, function() {\n'use strict';\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nvar _slicedToArray = (function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; })();\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _typeof(obj) { return obj && typeof Symbol !== \"undefined\" && obj.constructor === Symbol ? \"symbol\" : typeof obj; }\n\nvar draft = function draft(name) {\n  return draft.doc(name);\n};\n\n// Initialize types and mixins\ndraft.types = {};\ndraft.mixins = {};\n\n// TODO: prefer operators at beginning of lines?\n\n// These methods are adapted from Oliver Caldwell's Heir script, which he has\n// released under the Unlicense (public domain).\n// GitHub Repository: https://github.com/Olical/Heir\n\ndraft.inherit = function inherit(destination, source, addSuper) {\n  var proto = destination.prototype = Object.create(source.prototype);\n  proto.constructor = destination;\n\n  if (addSuper || typeof addSuper === 'undefined') {\n    destination._super = source.prototype;\n  }\n};\n\ndraft.mixin = function mixin(destination, source) {\n  for (var key in source) {\n    if (source.hasOwnProperty(key)) {\n      destination.prototype[key] = source[key];\n    }\n  }\n};\n\ndraft.proxy = function proxy(obj) {\n  var setInit = arguments.length <= 1 || arguments[1] === undefined ? true : arguments[1];\n\n  var access = function access(target, prop, init) {\n    if (typeof prop === 'string') {\n      return access(target, prop.split('.'), init);\n    }\n\n    var p = prop.shift();\n\n    if (prop.length && (typeof target === 'undefined' ? 'undefined' : _typeof(target)) === 'object' && (init || p in target)) {\n      // TODO: when init is false, setting obj['foo.bar'] will incorrectly set\n      // obj['foo'] instead\n      return access(p in target ? target[p] : target[p] = {}, prop, init);\n    }\n\n    return [target, p];\n  };\n\n  // TODO: return null if the property does not exist or was not set/deleted?\n  var handler = {\n    has: function has(target, prop) {\n      var _access = access(target, prop);\n\n      var _access2 = _slicedToArray(_access, 2);\n\n      var t = _access2[0];\n      var p = _access2[1];\n\n      return !!t[p];\n    },\n    get: function get(target, prop) {\n      var _access3 = access(target, prop);\n\n      var _access4 = _slicedToArray(_access3, 2);\n\n      var t = _access4[0];\n      var p = _access4[1];\n\n      return t[p];\n    },\n    set: function set(target, prop, val) {\n      var _access5 = access(target, prop, setInit);\n\n      var _access6 = _slicedToArray(_access5, 2);\n\n      var t = _access6[0];\n      var p = _access6[1];\n\n      t[p] = val;\n      return true;\n    },\n    deleteProperty: function deleteProperty(target, prop) {\n      var _access7 = access(target, prop);\n\n      var _access8 = _slicedToArray(_access7, 2);\n\n      var t = _access8[0];\n      var p = _access8[1];\n\n      return delete t[p];\n    }\n  };\n\n  // BACKLOG: wait for browser support for ES6 proxies\n  return typeof Proxy === 'function' ? new Proxy(obj, handler) : obj;\n};\n\n// TODO: configurable defaults\ndraft.defaults = draft.proxy({\n  get dpi() {\n    var test = document.createElement('div');\n    test.style.width = '1in';\n    test.style.padding = 0;\n    document.getElementsByTagName('body')[0].appendChild(test);\n\n    var dpi = test.offsetWidth;\n\n    document.getElementsByTagName('body')[0].removeChild(test);\n\n    // Fall back to standard 96dpi resolution\n    return dpi || 96;\n  }\n});\n\ndraft.types.Float = (function () {\n  function Float(value) {\n    _classCallCheck(this, Float);\n\n    this.value = parseFloat(value);\n  }\n\n  _createClass(Float, [{\n    key: 'valueOf',\n    value: function valueOf() {\n      return this.value;\n    }\n  }, {\n    key: 'type',\n    get: function get() {\n      return 'float';\n    }\n  }, {\n    key: 'regex',\n    get: function get() {\n      // Matches all floating point values. Should match:\n      // 123\n      // -123.45\n      // 123e5\n      // 123.45E+5\n      return '[-+]?[0-9]*\\\\.?[0-9]+(?:[eE][-+]?[0-9]+)?';\n    }\n  }]);\n\n  return Float;\n})();\n\ndraft.types.float = function float(value) {\n  return value == undefined ? value : new draft.types.Float(value);\n};\n\nvar test = function test(val, regex) {\n  // TODO: strict match anchor (^ instead of word end)\n  regex = new RegExp(regex + '$', 'i');\n  val = regex.exec(val);\n  return val ? val[0].toLowerCase() : false;\n};\n\ndraft.types.Length = (function (_draft$types$Float) {\n  _inherits(Length, _draft$types$Float);\n\n  function Length(value, unit) {\n    _classCallCheck(this, Length);\n\n    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(Length).call(this, value));\n\n    value = test(value, _this.regex);\n    unit = test(unit, _this.regex);\n\n    if (!isNaN(_this.value) && (value || unit)) {\n      _this.unit = value || unit;\n      _this.convert(unit);\n    } else {\n      _this.unit = '';\n    }\n    return _this;\n  }\n\n  _createClass(Length, [{\n    key: 'convert',\n    value: function convert(newUnit) {\n      var _this2 = this;\n\n      newUnit = test(newUnit, this.regex);\n\n      if (!newUnit) {\n        return false;\n      }\n\n      var chain = function chain(unit, reverse) {\n        var units = _this2.units[unit];\n\n        _this2.value *= reverse ? units[1] : units[0];\n        _this2.value /= reverse ? units[0] : units[1];\n\n        return units[2];\n      };\n\n      var unit = this.unit;\n      while (unit !== newUnit && unit !== 'px') {\n        unit = chain(unit);\n      }\n\n      if (unit !== newUnit) {\n        unit = newUnit;\n        while (unit !== 'px') {\n          unit = chain(unit, true);\n        }\n      }\n\n      this.unit = newUnit;\n\n      return this.toString();\n    }\n  }, {\n    key: 'valueOf',\n    value: function valueOf() {\n      return new Length(this.toString(), draft.defaults.units).value;\n    }\n  }, {\n    key: 'toString',\n    value: function toString() {\n      return this.value + this.unit;\n    }\n  }, {\n    key: 'type',\n    get: function get() {\n      return 'length';\n    }\n  }, {\n    key: 'regex',\n    get: function get() {\n      return '(px|pt|pc|in|ft|yd|mi|mm|cm|dm|km|m)';\n    }\n  }, {\n    key: 'units',\n    get: function get() {\n      return {\n        px: [1, 1, 'px'],\n        pt: [1, 72, 'px'],\n        pc: [12, 1, 'pt'],\n        in: [draft.defaults.dpi, 1, 'px'],\n        ft: [12, 1, 'in'],\n        yd: [3, 1, 'ft'],\n        mi: [1760, 1, 'yd'],\n        mm: [1, 25.4, 'in'],\n        cm: [10, 1, 'mm'],\n        dm: [10, 1, 'cm'],\n        m: [10, 1, 'dm'],\n        km: [1000, 1, 'm']\n      };\n    }\n  }]);\n\n  return Length;\n})(draft.types.Float);\n\ndraft.types.length = function length(value, unit) {\n  return value == undefined ? value : new draft.types.Length(value, unit);\n};\n\ndraft.types.Color = (function () {\n  function Color(color) {\n    _classCallCheck(this, Color);\n\n    color = new RegExp('^(?:' + this.regex + ')$', 'i').exec(isNaN(color) ? color : color.toString(16));\n\n    if (color !== null) {\n      this.color = color[0].toLowerCase();\n\n      for (var i = 1; i <= 3; i++) {\n        color[i] = parseInt(color[i] || parseInt(color[i + 3] || color[i + 6].repeat(2), 16), 10);\n      }\n\n      this.red = color[1];\n      this.green = color[2];\n      this.blue = color[3];\n    }\n  }\n\n  _createClass(Color, [{\n    key: 'valueOf',\n    value: function valueOf() {\n      return this.red << 16 | this.green << 8 | this.blue;\n    }\n  }, {\n    key: 'toString',\n    value: function toString() {\n      return this.color;\n    }\n  }, {\n    key: 'type',\n    get: function get() {\n      return 'color';\n    }\n  }, {\n    key: 'regex',\n    get: function get() {\n      var rgbColor = '([01]?[0-9][0-9]?|2[0-4][0-9]|25[0-5])';\n      var rgb = 'rgb\\\\(' + rgbColor + ', ?' + rgbColor + ', ?' + rgbColor + '\\\\)';\n\n      var hexColor = '([0-9a-f]{2})'.repeat(3);\n      var hex = '#?(?:' + hexColor + '|' + hexColor.replace(/\\{2\\}/g, '') + ')';\n      // var hex = '#?(?:[0-9a-f]{3}){1,2}';\n\n      return rgb + '|' + hex;\n    }\n  }]);\n\n  return Color;\n})();\n\ndraft.types.color = function color(value) {\n  return value == undefined ? value : new draft.types.Color(value);\n};\n\n// These methods are adapted from Oliver Caldwell's EventEmitter library, which\n// he has released under the Unlicense (public domain).\n// GitHub Repository: https://github.com/Olical/EventEmitter\n\n// BACKLOG: implement bubbling?\n\ndraft.mixins.event = {\n  on: function on(evt, listener) {\n    var listenersMap = this.getListeners(evt, true);\n\n    for (var key in listenersMap) {\n      var listeners = listenersMap[key];\n\n      if (!(listeners.map(function (l) {\n        return l.listener;\n      }).indexOf(listener) !== -1)) {\n        listeners.push((typeof listener === 'undefined' ? 'undefined' : _typeof(listener)) === 'object' ? listener : {\n          listener: listener,\n          once: false\n        });\n      }\n    }\n\n    return this;\n  },\n  once: function once(evt, listener) {\n    return this.on(evt, {\n      listener: listener,\n      once: true\n    });\n  },\n  off: function off(evt, listener) {\n    var listenersMap = this.getListeners(evt, true);\n\n    for (var key in listenersMap) {\n      var listeners = listenersMap[key];\n      var index = listeners.map(function (l) {\n        return l.listener;\n      }).lastIndexOf(listener);\n\n      if (index !== -1) {\n        listeners.splice(index, 1);\n      }\n    }\n\n    return this;\n  },\n\n  // TODO: use rest for args (...args)\n  fire: function fire(evt, args) {\n    // Put args in an array if it isn't already one\n    if (!Array.isArray(args)) {\n      args = [args];\n    }\n\n    var listenersMap = this.getListeners(evt, true);\n\n    for (var key in listenersMap) {\n      var listeners = listenersMap[key];\n      var i = listeners.length;\n\n      if (i > 0) {}\n\n      while (i--) {\n        var listener = listeners[i];\n        var response = listener.listener.apply({\n          target: this,\n          // TODO: Date.now() to prevent memory leaks?\n          timeStamp: Date(),\n          type: key\n        }, args);\n\n        // If the listener returns 'off' then it gets removed from the event\n        if (listener.once === true || response === 'off') {\n          this.off(evt, listener.listener);\n        }\n      }\n    }\n\n    return this;\n  },\n  defineEvent: function defineEvent() {\n    for (var _len = arguments.length, evts = Array(_len), _key = 0; _key < _len; _key++) {\n      evts[_key] = arguments[_key];\n    }\n\n    var _iteratorNormalCompletion = true;\n    var _didIteratorError = false;\n    var _iteratorError = undefined;\n\n    try {\n      for (var _iterator = evts[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n        var evt = _step.value;\n\n        this.getListeners(evt);\n      }\n    } catch (err) {\n      _didIteratorError = true;\n      _iteratorError = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion && _iterator.return) {\n          _iterator.return();\n        }\n      } finally {\n        if (_didIteratorError) {\n          throw _iteratorError;\n        }\n      }\n    }\n\n    return this;\n  },\n  removeEvent: function removeEvent(evt) {\n    var events = this._getEvents();\n\n    // Remove different things depending on the state of evt\n    if (typeof evt === 'string') {\n      // Remove all listeners for the specified event\n      delete events[evt];\n    } else if (evt instanceof RegExp) {\n      // Remove all events matching the regex.\n      for (var key in events) {\n        if (evt.test(key)) {\n          delete events[key];\n        }\n      }\n    } else {\n      // Remove all listeners in all events\n      delete this._events;\n    }\n\n    return this;\n  },\n  getListeners: function getListeners(evt, map) {\n    var events = this._getEvents();\n    var listeners = {};\n\n    // Return a concatenated array of all matching events if\n    // the selector is a regular expression.\n    if (evt instanceof RegExp) {\n      for (var key in events) {\n        if (evt.test(key)) {\n          listeners[key] = events[key];\n        }\n      }\n    } else {\n      var listener = events[evt] || (events[evt] = []);\n\n      if (map === undefined) {\n        listeners = listener;\n      } else {\n        listeners[evt] = listener;\n      }\n    }\n\n    /* if (map !== undefined) {\n      listeners = Object.keys(listeners).map(key => listeners[key]);\n    } */\n\n    return listeners;\n  },\n\n  /**\n   * Fetches the events object and creates one if required.\n   *\n   * @return {Object} The events storage object.\n   * @api private\n   */\n  _getEvents: function _getEvents() {\n    return this._events || (this._events = {});\n  }\n};\n\ndraft.mixins.system = {\n  // Cartesian:\n  // - page.system('cartesian')\n  // - (x, y)\n  // - x is right, y is up, z is out of the page (right-hand)\n  // - global origin (0, 0) is at bottom-left\n  //\n  // Polar:\n  // - page.system('polar')\n  // - (r, φ)\n  // - φ is counter-clockwise, with 0 pointing to the right\n  // - global pole (0, 0) is at center\n  //\n  // BACKLOG:30 remove svg coordinates?\n  // Web/SVG:\n  // - page.system('web')\n  // - (x, y)\n  // - x is right, y is down, z is out of the page (left-hand)\n  // - global origin (0, 0) is at top-left\n\n  // BACKLOG:10 switch φ for θ?\n  // BACKLOG:0 Spherical (ρ, θ, φ), Cylindrical (ρ, φ, z)\n\n  system: function system(_system) {\n    /* if (this.prop('system') != system) {\n      // BACKLOG:20 recursively convert all elements to new system?\n    } */\n    return this.prop('system', _system);\n  }\n};\n\ndraft.defaults.system = 'cartesian';\n\ndraft.mixins.units = {\n  // Get/set the element's measurement units\n\n  units: function units(_units) {\n    return this.prop('units', _units);\n  }\n};\n\ndraft.defaults.units = 'px';\n\ndraft.mixins.position = {\n  // TODO: find better way of only applying supplied values\n\n  position: function position(x, y, z) {\n    return this.prop({\n      x: draft.types.length(x),\n      y: draft.types.length(y),\n      z: draft.types.length(z)\n    });\n  },\n  pos: function pos() {\n    return this.position.apply(this, arguments);\n  },\n  translate: function translate(x, y, z) {\n    x = this.prop('x') + x || 0;\n    y = this.prop('y') + y || 0;\n    z = this.prop('z') + z || 0;\n\n    return this.position(x, y, z);\n  }\n};\n\ndraft.mixins.rotation = {\n  rotation: function rotation(α, β, γ) {\n    return this.prop({\n      α: α,\n      β: β,\n      γ: γ\n    });\n  },\n  rot: function rot() {\n    return this.rotation.apply(this, arguments);\n  },\n  rotate: function rotate(α, β, γ) {\n    α = this.prop('α') + α || 0;\n    β = this.prop('β') + β || 0;\n    γ = this.prop('γ') + γ || 0;\n\n    return this.position(α, β, γ);\n  }\n};\n\ndraft.mixins.fill = {\n  // TODO: combine color and opacity into fill()\n\n  fill: function fill(color) {\n    return this.fillColor(color);\n  },\n  fillColor: function fillColor(color) {\n    return this.prop('fill.color', draft.types.color(color));\n  },\n  fillOpacity: function fillOpacity(opacity) {\n    // TODO: move into generic function?\n    if (/^(0(\\.\\d*)?|1(\\.0*)?)$/.test(opacity)) {\n      opacity = parseFloat(opacity, 10);\n    }\n\n    return this.prop('fill.opacity', opacity);\n  }\n};\n\ndraft.defaults['fill.color'] = '#fff';\ndraft.defaults['fill.opacity'] = 1;\n\ndraft.mixins.stroke = {\n  // TODO: combine color, opacity, and width into stroke()\n\n  stroke: function stroke(color) {\n    return this.strokeColor(color);\n  },\n  strokeColor: function strokeColor(color) {\n    return this.prop('stroke.color', draft.types.color(color));\n  },\n  strokeOpacity: function strokeOpacity(opacity) {\n    // TODO: move into generic function?\n    if (/^(0(\\.\\d*)?|1(\\.0*)?)$/.test(opacity)) {\n      opacity = parseFloat(opacity, 10);\n    }\n\n    return this.prop('stroke.opacity', opacity);\n  },\n  strokeWidth: function strokeWidth(width) {\n    return this.prop('stroke.width', draft.types.length(width));\n  }\n};\n\ndraft.defaults['stroke.color'] = '#000';\ndraft.defaults['stroke.opacity'] = 1;\ndraft.defaults['stroke.width'] = 1;\n\ndraft.mixins.size = {\n  // Get/set the element's width & height\n\n  size: function size(width, height) {\n    return this.prop({\n      width: draft.types.length(width),\n      height: draft.types.length(height)\n      // depth: draft.types.length(depth)\n    });\n  },\n  scale: function scale(width, height) {\n    return this.prop({\n      width: this.prop('width') * width || undefined,\n      height: this.prop('height') * height || undefined\n      // depth: this.prop('depth') * depth || undefined\n    });\n  }\n};\n\ndraft.mixins.radius = {\n  // Get/set the element's x radius\n\n  rx: function rx(_rx) {\n    return this.prop('rx', draft.types.length(_rx));\n  },\n\n  // Get/set the element's y radius\n  ry: function ry(_ry) {\n    return this.prop('ry', draft.types.length(_ry));\n  },\n\n  // Get/set the element's radius\n  radius: function radius(rx, ry) {\n    return this.prop({\n      rx: draft.types.length(rx),\n      ry: draft.types.length(ry)\n    });\n  }\n};\n\ndraft.Element = (function () {\n  function Element(name) {\n    _classCallCheck(this, Element);\n\n    // Make sure this._properties is initialized\n    this._properties = {};\n\n    // Set a name if given\n    if (name) {\n      this.prop('name', name);\n    }\n\n    // HACK:0 use this.constructor.name to get an element's type. Requires all\n    // subclasses to have a defined constructor.\n    for (var type in draft) {\n      if (this.constructor === draft[type]) {\n        this._type = type.toLowerCase();\n        break;\n      }\n    }\n    // console.log('TYPE:', type, 'NAME:', this.constructor.name);\n  }\n\n  _createClass(Element, [{\n    key: 'prop',\n    value: function prop(_prop, val) {\n      var obj = arguments.length <= 2 || arguments[2] === undefined ? this._properties : arguments[2];\n\n      if (_prop === undefined) {\n        // Act as a full properties getter if prop is undefined\n        // TODO: don't create a new object?\n        return Object(this._properties);\n      } else if (_prop === null) {\n        // BACKLOG: test deleting all properties, perhaps remove it\n        // Delete all properties if prop is null\n        this._properties = {};\n      } else if (typeof _prop === 'string') {\n        var props = draft.proxy(this._properties);\n\n        if (val === undefined) {\n          // Act as an individual property getter if val is undefined\n          // TODO: do a fuzzy-find? For example, el.prop('width') would match\n          // el._properties.size.width if el._properties.width is undefined\n          return _prop in props ? props[_prop] : null;\n        } else if (val === null) {\n          // Delete the property if val is null\n          delete props[_prop];\n        } else {\n          // Act as an individual property setter if both prop and val are defined\n\n          if ((typeof val === 'undefined' ? 'undefined' : _typeof(val)) === 'object') {\n            var unit = undefined;\n\n            switch (val.type) {\n              case 'length':\n                unit = this.parent.prop('units') || draft.defaults.units;\n                val.unit = val.unit || unit;\n                val.convert(unit);\n              // Falls through\n              case 'color':\n                val = String(val);\n                break;\n            }\n          }\n\n          props[_prop] = val;\n        }\n\n        this.fire('change', [_prop, val]);\n      } else if ((typeof _prop === 'undefined' ? 'undefined' : _typeof(_prop)) === 'object') {\n        // Act as a getter if prop is an object with only null values.\n        // Act as a setter if prop is an object with at least one non-null value.\n        var setter = false;\n\n        for (var p in _prop) {\n          // Get this._properties[p] and save it to prop[p]\n          _prop[p] = this.prop(p, _prop[p], obj);\n          // If the returned value is an object, prop[p] is non-null, so act like\n          // a setter.\n          setter = setter || _typeof(_prop[p]) == 'object';\n        }\n\n        return setter ? this : _prop;\n      }\n\n      // Chainable if 'this' is returned\n      return this;\n    }\n\n    // TODO: use rest (...blacklist)\n\n  }, {\n    key: 'stringify',\n    value: function stringify(blacklist) {\n      var replacer;\n\n      if (Array.isArray(blacklist)) {\n        replacer = function (key, val) {\n          if (blacklist.indexOf(key) !== -1) {\n            return undefined;\n          }\n\n          return val;\n        };\n      } else if (blacklist instanceof RegExp) {\n        replacer = function (key, val) {\n          if (blacklist.test(key)) {\n            return undefined;\n          }\n\n          return val;\n        };\n      }\n\n      return JSON.stringify(this, replacer, 2);\n    }\n  }, {\n    key: 'toJSON',\n    value: function toJSON() {\n      return {\n        type: this.type,\n        id: this.id,\n        properties: this.prop(),\n        children: this.children\n      };\n    }\n  }, {\n    key: 'type',\n    get: function get() {\n      return this._type;\n    }\n  }, {\n    key: 'id',\n    get: function get() {\n      return this._id;\n    }\n  }, {\n    key: 'name',\n    get: function get() {\n      return this.prop('name');\n    }\n\n    // Construct a unique ID from the element's type and ID\n\n  }, {\n    key: 'domID',\n    get: function get() {\n      var id = String(this.id);\n      while (id.length < 4) {\n        id = '0' + id;\n      }\n\n      return this.type + '_' + id;\n    }\n  }], [{\n    key: 'inherit',\n    value: function inherit(source, addSuper) {\n      draft.inherit(this, source, addSuper);\n    }\n  }, {\n    key: 'mixin',\n    value: function mixin(source) {\n      draft.mixin(this, source);\n    }\n\n    // TODO:40 merge require() with mixin()?\n\n  }, {\n    key: 'require',\n    value: function require(source) {\n      if (typeof source == 'string') {\n        this.mixin(draft.mixins[source]);\n      } else if (Array.isArray(source)) {\n        var _iteratorNormalCompletion2 = true;\n        var _didIteratorError2 = false;\n        var _iteratorError2 = undefined;\n\n        try {\n          for (var _iterator2 = source[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n            var mixin = _step2.value;\n\n            this.require(mixin);\n          }\n        } catch (err) {\n          _didIteratorError2 = true;\n          _iteratorError2 = err;\n        } finally {\n          try {\n            if (!_iteratorNormalCompletion2 && _iterator2.return) {\n              _iterator2.return();\n            }\n          } finally {\n            if (_didIteratorError2) {\n              throw _iteratorError2;\n            }\n          }\n        }\n      }\n    }\n  }]);\n\n  return Element;\n})();\n\ndraft.Element.require(['event', 'position', 'rotation']);\n\ndraft.Container = (function (_draft$Element) {\n  _inherits(Container, _draft$Element);\n\n  function Container(name) {\n    _classCallCheck(this, Container);\n\n    // Initialize children array\n\n    var _this3 = _possibleConstructorReturn(this, Object.getPrototypeOf(Container).call(this, name));\n\n    _this3.children = [];\n    return _this3;\n  }\n\n  _createClass(Container, [{\n    key: 'add',\n    value: function add(child) {\n      // Add a reference to the child's parent and containing doc\n      child.parent = this;\n      child.doc = this.doc || this;\n\n      // Add the child to its type array\n      var type = child.type;\n      (child.doc.elements[type] || (child.doc.elements[type] = [])).push(child);\n      // Set the child's id\n      child._id = child.doc.elements[type].length;\n\n      // Add the child to the end of the children array\n      this.children.push(child);\n\n      // Fire the 'add' event to all listeners\n      this.fire('add', [child]);\n\n      return this;\n    }\n  }, {\n    key: 'push',\n    value: function push(child) {\n      this.add(child);\n      return child;\n    }\n  }, {\n    key: 'remove',\n    value: function remove(child) {\n      this.fire('remove', [child]);\n      return this;\n    }\n  }, {\n    key: 'firstChild',\n    get: function get() {\n      return this.children[0];\n    }\n  }, {\n    key: 'lastChild',\n    get: function get() {\n      return this.children[this.children.length - 1];\n    }\n  }]);\n\n  return Container;\n})(draft.Element);\n\ndraft.Doc = (function (_draft$Container) {\n  _inherits(Doc, _draft$Container);\n\n  function Doc(name) {\n    _classCallCheck(this, Doc);\n\n    // Initialize elements container\n\n    var _this4 = _possibleConstructorReturn(this, Object.getPrototypeOf(Doc).call(this, name));\n\n    _this4.elements = {};\n\n    _this4.prop({\n      system: draft.defaults.system,\n      units: draft.defaults.units\n    });\n    return _this4;\n  }\n\n  return Doc;\n})(draft.Container);\n\ndraft.doc = function doc(name) {\n  var newDoc = new draft.Doc(name);\n\n  (draft.docs || (draft.docs = [])).push(newDoc);\n  newDoc._id = draft.docs.length;\n\n  return newDoc;\n};\n\ndraft.Group = (function (_draft$Container2) {\n  _inherits(Group, _draft$Container2);\n\n  function Group() {\n    _classCallCheck(this, Group);\n\n    return _possibleConstructorReturn(this, Object.getPrototypeOf(Group).apply(this, arguments));\n  }\n\n  return Group;\n})(draft.Container);\n\ndraft.Group.require(['system', 'units']);\n\n// TODO: mixin to draft.Group?\ndraft.Container.mixin({\n  group: function group(name) {\n    return this.push(new draft.Group(name)).prop({\n      system: this.prop('system'),\n      units: this.prop('units')\n    });\n  }\n});\n\ndraft.View = (function (_draft$Element2) {\n  _inherits(View, _draft$Element2);\n\n  function View() {\n    _classCallCheck(this, View);\n\n    return _possibleConstructorReturn(this, Object.getPrototypeOf(View).apply(this, arguments));\n  }\n\n  _createClass(View, [{\n    key: 'aspectRatio',\n\n    /* render(renderer) {\n      this['render' + renderer.toUpperCase()]();\n    } */\n\n    get: function get() {\n      var width = draft.types.length(this.prop('width')).value;\n      var height = draft.types.length(this.prop('height')).value;\n\n      var gcd = function gcd(a, b) {\n        return b ? gcd(b, a % b) : a;\n      };\n\n      gcd = gcd(width, height);\n      return width / gcd + ':' + height / gcd;\n    }\n  }]);\n\n  return View;\n})(draft.Element);\n\ndraft.View.require('size');\n\ndraft.Group.mixin({\n  // TODO: get group bounding box for default size\n\n  view: function view() {\n    var width = arguments.length <= 0 || arguments[0] === undefined ? 100 : arguments[0];\n    var height = arguments.length <= 1 || arguments[1] === undefined ? 100 : arguments[1];\n\n    return this.push(new draft.View()).size(width, height);\n  }\n});\n\ndraft.Point = (function (_draft$Element3) {\n  _inherits(Point, _draft$Element3);\n\n  function Point() {\n    _classCallCheck(this, Point);\n\n    return _possibleConstructorReturn(this, Object.getPrototypeOf(Point).apply(this, arguments));\n  }\n\n  return Point;\n})(draft.Element);\n\ndraft.Point.require('stroke');\n\ndraft.Group.mixin({\n  point: function point() {\n    return this.push(new draft.Point());\n  }\n});\n\ndraft.Line = (function (_draft$Point) {\n  _inherits(Line, _draft$Point);\n\n  function Line() {\n    _classCallCheck(this, Line);\n\n    return _possibleConstructorReturn(this, Object.getPrototypeOf(Line).apply(this, arguments));\n  }\n\n  _createClass(Line, [{\n    key: 'length',\n    value: function length(_length) {\n      return this.prop('length', draft.types.length(_length));\n    }\n  }]);\n\n  return Line;\n})(draft.Point);\n\ndraft.Group.mixin({\n  line: function line() {\n    var length = arguments.length <= 0 || arguments[0] === undefined ? 100 : arguments[0];\n\n    return this.push(new draft.Line()).length(length);\n  }\n});\n\ndraft.Shape = (function (_draft$Point2) {\n  _inherits(Shape, _draft$Point2);\n\n  function Shape() {\n    _classCallCheck(this, Shape);\n\n    return _possibleConstructorReturn(this, Object.getPrototypeOf(Shape).apply(this, arguments));\n  }\n\n  return Shape;\n})(draft.Point);\n\ndraft.Shape.require(['fill', 'size']);\n\ndraft.Rect = (function (_draft$Shape) {\n  _inherits(Rect, _draft$Shape);\n\n  function Rect() {\n    _classCallCheck(this, Rect);\n\n    return _possibleConstructorReturn(this, Object.getPrototypeOf(Rect).apply(this, arguments));\n  }\n\n  _createClass(Rect, [{\n    key: 'rekt',\n\n    // Hehehe\n    get: function get() {\n      return Math.floor(Math.random() * 101) + '% rekt';\n    }\n  }]);\n\n  return Rect;\n})(draft.Shape);\n\ndraft.Rect.require('radius');\n\ndraft.Group.mixin({\n  rect: function rect() {\n    var width = arguments.length <= 0 || arguments[0] === undefined ? 100 : arguments[0];\n    var height = arguments.length <= 1 || arguments[1] === undefined ? 100 : arguments[1];\n\n    return this.push(new draft.Rect()).size(width, height);\n  }\n});\n\ndraft.Circle = (function (_draft$Shape2) {\n  _inherits(Circle, _draft$Shape2);\n\n  function Circle() {\n    _classCallCheck(this, Circle);\n\n    return _possibleConstructorReturn(this, Object.getPrototypeOf(Circle).apply(this, arguments));\n  }\n\n  _createClass(Circle, [{\n    key: 'radius',\n    value: function radius(r) {\n      return this.prop('r', draft.types.length(r));\n    }\n  }]);\n\n  return Circle;\n})(draft.Shape);\n\ndraft.Group.mixin({\n  circle: function circle() {\n    var r = arguments.length <= 0 || arguments[0] === undefined ? 50 : arguments[0];\n\n    return this.push(new draft.Circle()).radius(r);\n  }\n});\nreturn draft;\n}));\n"],"sourceRoot":"/source/"}